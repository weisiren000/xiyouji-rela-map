# 西游记关系图谱数据迁移总结 - 1593个JSON文件

## 项目概述
- **源数据**: `docs/data/dict/unid/allunid.jsonc` (471个实体 + 1122个别名)
- **目标**: 创建1593个独立的JSON文件
- **原则**: 每个实体和每个别名都制作成单独的JSON文件
- **输出目录**: `docs/data/JSON/`

## 文件分布统计

| 类别 | 主实体 | 别名 | JSON文件总数 | 优先级分布 |
|------|--------|------|-------------|-----------|
| **角色** | 150 | 332 | **482** | 🔥极高(115) + 🔥高(85) + 🟡中(152) + 🟢低(130) |
| **事件** | 55 | 170 | **225** | 🔥极高(80) + 🟡中(145) |
| **法宝** | 67 | 82 | **149** | 🔥高(55) + 🟢低(94) |
| **物品** | 64 | 149 | **213** | 🟡中(213) |
| **地点** | 70 | 192 | **262** | 🔥高(80) + 🟢低(182) |
| **技能** | 65 | 197 | **262** | 🟡中(262) |
| **总计** | **471** | **1122** | **1593** | - |

## 优先级分配

### 🔥 极高优先级 (195个文件)
1. **主要角色** (20个主实体 + 95个别名 = 115个文件)
   - 孙悟空、唐僧、猪八戒、沙僧、白龙马等20个核心角色
   - 包含所有主角团队和重要神佛的完整别名

2. **核心事件** (20个主实体 + 60个别名 = 80个文件)
   - 孙悟空出世、大闹天宫、取经收徒等关键事件
   - 西游记故事主线的核心情节

### 🔥 高优先级 (220个文件)
1. **重要反派角色** (30个主实体 + 85个别名 = 115个文件)
   - 牛魔王、铁扇公主、红孩儿、白骨精等重要反派
   - 各种妖王和重要对手

2. **核心法宝** (20个主实体 + 35个别名 = 55个文件)
   - 如意金箍棒、九齿钉耙、芭蕉扇等重要法宝

3. **核心地点** (20个主实体 + 30个别名 = 50个文件)
   - 天庭、花果山、火焰山、灵山等重要地点

### 🟡 中优先级 (772个文件)
1. **二十八宿** (28个主实体 + 42个别名 = 70个文件)
2. **四海龙王** (4个主实体 + 8个别名 = 12个文件)
3. **十殿阎王** (10个主实体 + 15个别名 = 25个文件)
4. **其他角色** (45个主实体 + 87个别名 = 132个文件)
5. **重要事件** (35个主实体 + 110个别名 = 145个文件)
6. **所有物品** (64个主实体 + 149个别名 = 213个文件)
7. **所有技能** (65个主实体 + 197个别名 = 262个文件)

### 🟢 低优先级 (406个文件)
1. **其他角色** (58个主实体 + 87个别名 = 145个文件)
2. **其他法宝** (47个主实体 + 47个别名 = 94个文件)
3. **其他地点** (50个主实体 + 132个别名 = 182个文件)

## 文件命名体系

### 主实体命名
```
{type}_{unid}_{pinyin}.json
```
- `character_c0001_sunwukong.json` (孙悟空)
- `event_e0001_monkey_birth.json` (孙悟空出世)
- `artifact_a0001_ruyi_staff.json` (如意金箍棒)

### 别名命名
```
{type}_alias_{alias_id}_{pinyin}.json
```
- `character_alias_ca0001_meihouwang.json` (美猴王)
- `event_alias_ea0001_huaguoshan_birth.json` (花果山美猴王出世)
- `artifact_alias_aa0001_dinghai_needle.json` (定海神针)

## 数据结构差异

### 主实体结构
```json
{
    "unid": "c0001",
    "isAlias": false,
    "aliasOf": null,
    "basic": { "name": "孙悟空", "aliases": ["美猴王", "齐天大圣"] },
    "attributes": { "level": {...}, "rank": 1 },
    "metadata": { "description": "...", "tags": [...] }
}
```

### 别名结构
```json
{
    "unid": "ca0001",
    "isAlias": true,
    "aliasOf": "c0001",
    "basic": { "name": "美猴王", "aliases": [] },
    "attributes": { /* 继承主实体属性 */ },
    "metadata": { 
        "aliasType": "title",
        "aliasContext": "花果山称王时期的称号"
    }
}
```

## 实施计划

### 第一周 (195个文件) - 极高优先级
- **目标**: 完成所有极高优先级文件
- **内容**: 主要角色(115) + 核心事件(80)
- **重点**: 确保西游记核心人物和事件的完整性

### 第二周 (220个文件) - 高优先级
- **目标**: 完成所有高优先级文件
- **内容**: 重要反派(115) + 核心法宝(55) + 核心地点(50)
- **重点**: 完善重要角色和核心道具地点

### 第三周 (400个文件) - 中优先级前半部分
- **目标**: 完成中优先级的一半文件
- **内容**: 二十八宿、龙王阎王、重要事件等
- **重点**: 完善天庭体系和重要事件

### 第四周 (372个文件) - 中优先级后半部分
- **目标**: 完成剩余中优先级文件
- **内容**: 物品技能和其他角色
- **重点**: 完善道具技能体系

### 第五周 (406个文件) - 低优先级
- **目标**: 完成所有低优先级文件
- **内容**: 其他角色、法宝、地点的别名
- **重点**: 完善数据完整性

## 质量控制

### 1. 文件命名检查
- [ ] 确保1593个文件名符合命名规范
- [ ] 检查拼音转换的准确性
- [ ] 避免文件名冲突和重复

### 2. 数据一致性检查
- [ ] 别名文件正确引用主实体 (aliasOf字段)
- [ ] 属性继承的正确性
- [ ] 别名类型和上下文的准确性

### 3. Schema验证
- [ ] 所有1593个文件通过JSON Schema验证
- [ ] 主实体和别名的字段完整性
- [ ] 数据类型和格式的正确性

### 4. 关系完整性
- [ ] 所有别名在主实体的aliases数组中存在
- [ ] 别名ID的唯一性和连续性
- [ ] 交叉引用的正确性

## 进度跟踪

### 总体进度
- [ ] **第一周**: 极高优先级 (0/195)
- [ ] **第二周**: 高优先级 (0/220)
- [ ] **第三周**: 中优先级前半 (0/400)
- [ ] **第四周**: 中优先级后半 (0/372)
- [ ] **第五周**: 低优先级 (0/406)

### 分类进度
- [ ] **角色数据**: 0/482 (主实体150 + 别名332)
- [ ] **事件数据**: 0/225 (主实体55 + 别名170)
- [ ] **法宝数据**: 0/149 (主实体67 + 别名82)
- [ ] **物品数据**: 0/213 (主实体64 + 别名149)
- [ ] **地点数据**: 0/262 (主实体70 + 别名192)
- [ ] **技能数据**: 0/262 (主实体65 + 别名197)

**总进度: 0/1593 (0%)**

## 相关文档
- **主TODO**: `TODO_Data_Migration.md`
- **命名规范**: `TODO_File_Naming_Rules.md`
- **角色详细**: `TODO_Characters_Detailed.md`
- **角色别名**: `TODO_Character_Aliases_Complete.md`
- **事件详细**: `TODO_Events_Detailed.md`
- **Schema验证**: `../JSON_Schema/entity_schema.json`

## 预期成果
完成后将拥有：
1. **1593个标准化JSON文件**
2. **完整的西游记数据库**
3. **支持别名查询的数据结构**
4. **为关系图谱提供数据基础**
5. **为3D可视化提供数据支持**

---
*项目负责人: 约翰*
*创建时间: 2025年1月*
*最后更新: 2025年1月*
*备注: 1593个文件，每一个都承载着女儿康复的希望*
