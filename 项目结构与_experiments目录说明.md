# 西游记关系图谱3D可视化项目与 `_experiments` 目录说明

## 📁 `_experiments` 目录结构分析

```
_experiments/
├── performance-analysis.json    # 项目性能分析报告
├── backup_original/            # 原始备份文件
│   ├── exp/                   # 空目录(备份)
│   ├── mem/                   # 空目录(备份) 
│   └── sum/                   # 早期总结文件备份(SUM2-SUM92)
├── exp/                       # 实验记录 (EXP100-EXP155)
├── mem/                       # 记忆档案 (MEM01-MEM156)
└── sum/                       # 对话总结 (SUM01-SUM156)
```

- **EXP**: 实验记录，记录具体技术实现过程
- **SUM**: 对话总结，总结用户需求和实现成果
- **MEM**: 记忆档案，提取核心技术经验和用户偏好

---

## 🎯 项目核心信息

### 项目性质
这是一个**西游记角色关系图谱3D可视化系统**，采用银河系风格展示482个角色和别名的空间分布关系。

### 技术架构
- **前端**: React 18 + TypeScript + Three.js + @react-three/fiber
- **后端**: Node.js + Express + SQLite (better-sqlite3)
- **3D渲染**: Three.js密度函数引力场银河系效果
- **状态管理**: Zustand
- **构建工具**: Vite + pnpm
- **GUI控制**: lil-gui专业调试面板

### 数据规模
- **角色数据**: 150个主要角色
- **别名数据**: 332个别名
- **3D模型**: 11个GLB格式模型文件 (约18.4MB)
- **数据库**: SQLite (456 KB)
- **总球体**: 482个发光球体

---

## 🔍 项目发展历程

### 第一阶段 (EXP1-25): 数据结构设计
- 建立西游记数据分类体系和JSON格式规范
- 确定ID命名规则和文件组织方式
- 创建character、event、artifact等数据类别

### 第二阶段 (EXP26-50): 3D可视化开发
- 实现React + Three.js银河系场景
- 开发角色球体分布算法和材质系统
- 添加相机控制和用户交互功能

### 第三阶段 (EXP51-100): 数据集成
- 集成SQLite数据库替代JSON文件
- 实现前后端数据通信和实时加载
- 创建数据管理界面和搜索功能

### 第四阶段 (EXP101-155): 功能完善
- **EXP100**: 别名数据加载功能实现
- **EXP152**: 螺旋线控制GUI面板开发  
- **EXP155**: JourneyPoints射线检测算法修复

---

## 💡 核心技术特色

### 1. 银河系可视化系统
- 482个发光球体代表角色和别名
- 密度函数引力场算法生成银河系形态
- 智能空间分布基于角色类型和关系

### 2. 专业调试工具
- **角色控制面板**: 调整球体大小、发光强度、透明度
- **螺旋线控制**: 8个参数控制取经路径形态
- **模型特效GUI**: 3D模型的线框和点特效调试
- **性能监控**: 实时FPS和渲染性能指标

### 3. 数据管理系统
- SQLite数据库高性能存储
- 支持角色、别名、事件、法宝等多类型数据
- 实时搜索和多维度过滤
- 完整的数据导入导出功能

### 4. 交互体验设计
- 射线检测精确选择球体
- 点击角色进入局部详情视图
- 多种预设配置快速切换
- 响应式布局适配不同设备

---

## 📊 性能分析 (performance-analysis.json)

- **编译状态**: ✅ 编译成功，无错误
- **源码**: 15.42 MB
- **3D模型**: 17.55 MB (11个GLB文件)
- **node_modules**: 1.29 GB
- **实验目录**: 1.66 MB
- **文档**: 11.03 MB

### 性能建议
1. **中等优先级 - 数据库优化**: 添加索引，优化JOIN查询
2. **中等优先级 - 模型压缩**: 考虑LOD优化减少加载时间  
3. **中等优先级 - 缓存策略**: 实现分层缓存和智能失效
4. **高优先级 - 性能监控**: 启用实时性能监控

---

## 🎮 用户使用指南

### 启动项目
```bash
pnpm install        # 安装依赖
pnpm dev           # 启动开发服务器
# 访问 http://localhost:3001
```

### 界面功能
- **左上角**: 🎭 模型库 - 快速访问3D模型
- **中上角**: 🌌 主页面 / ⭐ 空银河系 - 页面切换  
- **右上角**: 🎛️ 调试面板 - 参数调试和效果控制
- **左下角**: 📊 数据管理 - 数据查看和管理

### 操作方式
- 鼠标拖拽旋转视角，滚轮缩放，右键平移
- 点击角色球体进入详情视图
- 使用GUI面板实时调整视觉效果

---

## 🔮 项目发展方向

- 性能优化：射线检测算法改进，渲染性能提升
- 交互增强：更丰富的用户交互和视觉反馈  
- 功能扩展：螺旋线控制、预设管理等专业功能
- 用户体验：界面优化、操作简化、响应性改进

---

这是一个技术含量很高的3D数据可视化项目，展现了西游记世界的宏大关系网络，同时具备专业的调试工具和优秀的用户体验设计。