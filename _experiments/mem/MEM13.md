# MEM13: 局部视图界面设计记忆

## 时间
2025-06-18

## 核心记忆点

### 用户偏好更新
- 用户偏好局部视图界面设计：独立场景方案(方案B) + 分阶段实现策略
- 用户接受技术建议，同意先实现MVP版本再增强功能
- 用户偏好左右分屏布局：左侧3D场景，右侧400px信息面板
- 用户偏好左上角固定返回按钮位置
- 用户偏好完全隐藏其他角色以实现聚焦效果

### 技术架构决策
- 采用独立场景方案而非基于现有组件的扩展方案
- 使用CSS Grid布局实现左右分屏：`grid-template-columns: 1fr 400px`
- 状态管理扩展：添加viewMode和selectedCharacter状态
- 分阶段实现：阶段1实现核心功能，阶段2添加动画和高级控制

### 实现策略
- **阶段1 (MVP)**：独立场景 + 直接切换 + 固定相机角度
- **阶段2 (增强)**：缩放动画过渡 + 用户可调相机控制
- 风险控制：先实现基础功能确保稳定性，再逐步增强

### 组件架构设计
```
CharacterDetailView
├── CharacterDetailScene (左侧3D场景)
├── CharacterDetailPanel (右侧信息面板)
└── DetailViewBackButton (左上角返回按钮)
```

### 状态流转逻辑
```
全局视图 → 点击角色 → 设置selectedCharacter → 切换viewMode → 详情视图
详情视图 → 点击返回 → 清除selectedCharacter → 切换viewMode → 全局视图
```

## 项目管理记忆
- 创建了详细的TODO计划文档 (EXP116.md)
- 建立了完整的开发顺序和风险评估
- 使用_experiments目录记录设计决策和实现计划

## 技术债务管理
- 为未来功能扩展预留了架构空间
- 通过分阶段实现平衡功能需求与技术风险
- 保持代码的可维护性和扩展性

## 下一步工作方向
按照EXP116.md中的TODO计划开始实施：
1. 扩展useGalaxyStore状态管理
2. 创建CharacterDetailScene独立场景组件
3. 实现CharacterDetailView布局组件
4. 开发信息面板和返回按钮
5. 集成点击交互逻辑

这个记忆点标志着项目从单一全局视图向双视图模式的重要架构升级。
