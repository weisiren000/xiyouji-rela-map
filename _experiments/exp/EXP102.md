# EXP102: é¼ æ ‡æ‚¬æµ®äº¤äº’åŠŸèƒ½å®ç°

## åŠŸèƒ½éœ€æ±‚
1. é¼ æ ‡æ‚¬æµ®äºç‚¹ä¸Šä¼šæè¾¹æ³›å…‰è¡¨ç¤ºå¾…é€‰æ‹©çŠ¶æ€
2. é¼ æ ‡æ‚¬æµ®äºç‚¹ä¸Šæ—¶ä¼šæ ¹æ®ç‚¹çš„æ•°æ®æ˜¾ç¤ºä¿¡æ¯å¡ç‰‡

## æŠ€æœ¯å®ç°æ–¹æ¡ˆ

### 1. é¼ æ ‡äº¤äº’Hook (useCharacterInteraction.ts)
- **å°„çº¿æ£€æµ‹ç³»ç»Ÿ**: ä½¿ç”¨Three.js Raycasterè¿›è¡Œ3Dé¼ æ ‡æ‹¾å–
- **å®æ—¶çŠ¶æ€ç®¡ç†**: è·Ÿè¸ªæ‚¬æµ®å¯¹è±¡ã€é¼ æ ‡ä½ç½®ã€ä¸–ç•Œåæ ‡
- **æ€§èƒ½ä¼˜åŒ–**: æ¯å¸§æ‰§è¡Œå°„çº¿æ£€æµ‹ï¼ŒçŠ¶æ€å˜åŒ–æ—¶æ‰æ›´æ–°
- **äº‹ä»¶ç»‘å®š**: è‡ªåŠ¨ç»‘å®š/è§£ç»‘é¼ æ ‡ç§»åŠ¨äº‹ä»¶

### 2. æ‚¬æµ®é«˜äº®ç»„ä»¶ (CharacterHighlight.tsx)
- **è„‰å†²åŠ¨ç”»**: ç¼©æ”¾å’Œé€æ˜åº¦çš„æ­£å¼¦æ³¢åŠ¨ç”»
- **é¢œè‰²åŒ¹é…**: é«˜äº®é¢œè‰²ä¸è§’è‰²åŸå§‹é¢œè‰²ä¸€è‡´
- **å‘å…‰æ•ˆæœ**: ä½¿ç”¨emissiveæè´¨å®ç°æ³›å…‰
- **å°ºå¯¸é€‚é…**: æ¯”åŸçƒä½“ç¨å¤§ï¼Œå½¢æˆæè¾¹æ•ˆæœ

### 3. ä¿¡æ¯å¡ç‰‡ç»„ä»¶ (CharacterInfoCard.tsx)
- **æ™ºèƒ½å®šä½**: è‡ªåŠ¨é¿å…è¶…å‡ºå±å¹•è¾¹ç•Œ
- **ä¸°å¯Œä¿¡æ¯**: æ˜¾ç¤ºè§’è‰²åç§°ã€ç±»åˆ«ã€èƒ½åŠ›å€¼ç­‰
- **è§†è§‰è®¾è®¡**: æ·±è‰²ä¸»é¢˜ï¼Œè¾¹æ¡†é¢œè‰²åŒ¹é…è§’è‰²
- **åˆ«åæ”¯æŒ**: ç‰¹æ®Šæ ‡è¯†å’ŒåŸè§’è‰²ä¿¡æ¯

### 4. é›†æˆåˆ°CharacterSpheres
- **Portalæ¸²æŸ“**: ä¿¡æ¯å¡ç‰‡é€šè¿‡createPortalæ¸²æŸ“åˆ°DOM
- **çŠ¶æ€åŒæ­¥**: äº¤äº’çŠ¶æ€ä¸æ¸²æŸ“çŠ¶æ€å®æ—¶åŒæ­¥
- **äº‹ä»¶ç®¡ç†**: ç»„ä»¶æŒ‚è½½æ—¶è‡ªåŠ¨ç»‘å®šé¼ æ ‡äº‹ä»¶

## æ ¸å¿ƒæŠ€æœ¯ç»†èŠ‚

### å°„çº¿æ£€æµ‹ä¼˜åŒ–
```typescript
raycaster.current.setFromCamera(mouse.current, camera)
raycaster.current.params.Points = { threshold: 0.1 }
const intersects = raycaster.current.intersectObject(meshRef.current)
```

### é«˜äº®åŠ¨ç”»æ•ˆæœ
```typescript
const pulseScale = 1.0 + Math.sin(pulsePhase.current) * 0.2
const pulseOpacity = 0.3 + Math.sin(pulsePhase.current) * 0.2
```

### å¡ç‰‡è¾¹ç•Œæ£€æµ‹
```typescript
if (left + cardWidth > window.innerWidth) {
  left = mousePosition.x - cardWidth - offset
}
```

## å®ç°æ–‡ä»¶
- `src/hooks/useCharacterInteraction.ts` - äº¤äº’é€»è¾‘Hook
- `src/components/three/CharacterHighlight.tsx` - 3Dé«˜äº®æ•ˆæœ
- `src/components/ui/CharacterInfoCard.tsx` - 2Dä¿¡æ¯å¡ç‰‡
- `src/components/three/CharacterSpheres.tsx` - ä¸»ç»„ä»¶é›†æˆ

## é¢„æœŸæ•ˆæœ
- é¼ æ ‡æ‚¬æµ®æ—¶çƒä½“å‡ºç°è„‰å†²æ³›å…‰æè¾¹
- åŒæ—¶æ˜¾ç¤ºè¯¦ç»†çš„è§’è‰²ä¿¡æ¯å¡ç‰‡
- å¡ç‰‡è·Ÿéšé¼ æ ‡ç§»åŠ¨ï¼Œæ™ºèƒ½é¿å…è¾¹ç•Œæº¢å‡º
- æ”¯æŒ482ä¸ªæ•°æ®ç‚¹çš„æµç•…äº¤äº’

## çŠ¶æ€
âœ… å·²å®Œæˆå®æ–½
ğŸ”„ ç­‰å¾…ç”¨æˆ·æµ‹è¯•åé¦ˆ
