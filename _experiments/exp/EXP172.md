# EXP172: 将"主页面"字段修改为"星谱"

## 任务概述
**时间**: 2025-06-29
**目标**: 将项目中所有"主页面"字段修改为"星谱"
**状态**: ✅ 已完成

## 问题分析
用户要求将界面中的"主页面"字段统一改名为"星谱"，这是一个界面文本的优化，使命名更具有天文学和星图的含义。

## 修改范围

### 1. 核心组件文件
- `src/components/navigation/PageSwitcher.tsx` - 页面切换器
- `src/App.tsx` - 主应用组件
- `src/components/views/CharacterDetailView/components/DetailViewBackButton/DetailViewBackButton.tsx` - 返回按钮组件

## 详细修改内容

### 1. PageSwitcher.tsx
**修改位置1 - 组件注释**:
```typescript
// 修改前
/**
 * 页面切换器组件
 * 提供在主页面和八十一难页面之间切换的功能
 * 默认加载八十一难页面作为首页
 */

// 修改后
/**
 * 页面切换器组件
 * 提供在星谱和八十一难页面之间切换的功能
 * 默认加载八十一难页面作为首页
 */
```

**修改位置2 - 按钮文本**:
```typescript
// 修改前
🌌 主页面

// 修改后
🌌 星谱
```

### 2. App.tsx
**修改位置 - 注释**:
```typescript
// 修改前
// 🎯 视图状态管理 - 使用主页面特定的视图状态

// 修改后
// 🎯 视图状态管理 - 使用星谱特定的视图状态
```

### 3. DetailViewBackButton.tsx
**修改位置1 - 组件注释**:
```typescript
// 修改前
* - 点击返回上一个页面（主页面或八十一难页面）

// 修改后
* - 点击返回上一个页面（星谱或八十一难页面）
```

**修改位置2 - 页面名称逻辑**:
```typescript
// 修改前
const pageName = previousState.page === 'main' ? '主页面' : '八十一难页面'

// 修改后
const pageName = previousState.page === 'main' ? '星谱' : '八十一难页面'
```

## 技术实现策略

### 1. 保守修改策略
- **保留**: 变量名、状态值、文件名、组件名
- **修改**: 用户可见的文字、注释说明
- **原因**: 最小化风险，保持代码稳定性

### 2. 修改优先级
1. **高优先级**: 用户界面显示文字（按钮文本）
2. **中优先级**: 代码注释和说明
3. **低优先级**: 返回按钮的提示文本
4. **不修改**: 代码逻辑和变量名

## 用户体验改进

### 界面变化
- **页面切换按钮**: `🌌 主页面` → `🌌 星谱`
- **返回按钮提示**: "返回主页面" → "返回星谱"
- **组件注释**: 更新为"星谱"相关描述

### 命名含义
- **星谱**: 更具天文学含义，符合银河系可视化的主题
- **专业性**: 体现了星图、星表的专业概念
- **一致性**: 与项目的天文主题保持一致

## 技术影响

### ✅ 无破坏性影响
- 所有变量名保持不变（`'main'` 状态值）
- 所有文件名保持不变
- 所有组件名保持不变
- 所有功能逻辑保持不变

### ✅ 用户体验提升
- 更专业的命名
- 更符合项目主题
- 更具科学性

## 验证结果

### 功能验证
- ✅ 页面切换正常工作
- ✅ 按钮文字正确显示为"星谱"
- ✅ 返回按钮提示正确更新
- ✅ 所有功能保持正常

### 文档一致性
- ✅ 组件注释已更新
- ✅ 用户界面文本已统一
- ✅ 返回逻辑说明已同步

## 修改文件清单

1. `src/components/navigation/PageSwitcher.tsx`
   - 第20行：组件注释
   - 第71行：按钮文本

2. `src/App.tsx`
   - 第31行：注释说明

3. `src/components/views/CharacterDetailView/components/DetailViewBackButton/DetailViewBackButton.tsx`
   - 第9行：组件注释
   - 第28行：页面名称逻辑

## 总结
成功将"主页面"字段修改为"星谱"，提升了项目的专业性和主题一致性。修改简单、安全、有效，完全保留了原有功能的可访问性，只是改善了用户界面的文本表达。
