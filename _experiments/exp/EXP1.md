# 实验记录 EXP1 - 创建唯一ID的JSONC表

## 实验目标
将现有的西游记数据从原始ID格式转换为具有唯一ID结构的JSONC格式，包括：
- character.jsonc (人物数据)
- event.jsonc (事件数据) 
- item.jsonc (物品数据)
- location.jsonc (地点数据)
- skill.jsonc (技能数据)

## 实验过程

### 1. 分析现有数据结构
- 查看了 `docs/data/dict/id_pub/` 目录下的原始文件
- 分析了 `docs/data/dict/unid/artifact.jsonc` 作为参考模板
- 理解了目标格式：使用 "unid" 和 "aliases_unid" 结构

### 2. 设计ID分配策略
- **主要ID**: 使用4位数字格式 "0001", "0002" 等
- **别名ID**: 使用 "A" + 4位数字格式 "A0001", "A0002" 等
- **注释系统**: 为每个条目添加详细的中文描述

### 3. 数据转换实施
按以下顺序完成了文件转换：

#### 3.1 character.jsonc
- 转换了150个主要人物
- 创建了332个别名条目
- 包含了从主角到配角的完整人物体系

#### 3.2 event.jsonc  
- 转换了55个主要事件
- 创建了170个别名条目
- 按取经路线的时间顺序组织

#### 3.3 item.jsonc
- 转换了64个物品
- 创建了149个别名条目
- 主要涵盖丹药、仙果、草药等

#### 3.4 location.jsonc
- 转换了70个地点
- 创建了192个别名条目
- 涵盖天庭、人间、地府各界

#### 3.5 skill.jsonc
- 转换了65个技能
- 创建了197个别名条目
- 包含法术、神通、武技等

## 实验结果

### 成功创建的文件
```
docs/data/dict/unid/
├── character.jsonc    # 人物数据 (150主条目 + 332别名)
├── event.jsonc        # 事件数据 (55主条目 + 170别名)  
├── item.jsonc         # 物品数据 (64主条目 + 149别名)
├── location.jsonc     # 地点数据 (70主条目 + 192别名)
└── skill.jsonc        # 技能数据 (65主条目 + 197别名)
```

### 数据统计
- **总主条目**: 404个
- **总别名条目**: 1040个
- **总数据条目**: 1444个

## 经验总结

### 成功要素
1. **统一格式**: 严格按照参考模板的格式进行转换
2. **详细注释**: 为每个条目添加了有意义的中文注释
3. **系统性**: 保持了原始数据的完整性和关联性
4. **可扩展性**: 设计的ID系统支持后续数据添加

### 遇到的挑战
1. **文件大小限制**: 需要分块编辑大文件
2. **数据量大**: 需要仔细处理大量的别名映射
3. **格式一致性**: 确保所有文件遵循相同的格式标准

### 改进建议
1. 可以考虑添加更多的交叉引用注释
2. 未来可以建立ID之间的关联关系
3. 可以添加数据验证机制

## 技术细节

### ID编号规则
- 主条目ID: 从 "0001" 开始递增
- 别名ID: 从 "A0001" 开始递增
- 保持4位数字格式的一致性

### 注释规范
- 主条目注释: 简洁描述该条目的主要特征
- 别名注释: 明确指出这是哪个主条目的别名

### 文件结构
```jsonc
{
    "unid": {
        "0001": "主条目名称", // 主条目描述
        // ...
    },
    "aliases_unid": {
        "A0001": "别名名称", // 对应主条目的别名
        // ...
    }
}
```

## 实验结论
成功完成了西游记数据的唯一ID格式转换，建立了完整、统一、可扩展的数据结构。所有文件都遵循了一致的格式标准，为后续的数据分析和关系建立奠定了良好基础。
